<div class="cart">
  <div class="cart-info" (click)="handleCartInformation()" role="button">
    <div class="cart-quantity">
      <img class="cart-icon" [src]="cartIcon" alt="cart icon" />
      <span class="items-number">
        {{ totalQuantity$ | async }}
      </span>
    </div>
    <span class="cart-count">
      {{ totalAmount$ | async | currency: "BRL" }}
    </span>

    <div class="cart-items-list">
      <button class="cart-down-arrow">
        <img [src]="downIcon" alt="chevron down icon" />
      </button>
    </div>
  </div>

  <div class="cart-card" *ngIf="openCartInformation">
    <div class="cart-header">
      <h2>Cart Items</h2>

      <button
        class="clear-all"
        (click)="clearCart()"
        [disabled]="emptyCart$ | async"
      >
        <i class="bi bi-trash3"></i>
        clear all
      </button>
    </div>

    <p *ngIf="emptyCart$ | async">Your cart is empty.</p>

    <ul class="cart-list">
      <li class="cart-item" *ngFor="let item of cartItems$ | async">
        <button class="remove-item" (click)="removeProduct(item.product.id)">
          <i class="bi bi-trash3"></i>
        </button>
        <span class="item-name">
          {{ item.quantity }} x {{ item.product.name }}
        </span>
        <span class="item-price">
          {{
            item.product.price * item.quantity
              | currency: "BRL" : "symbol" : "1.2-2" : "pt-BR"
          }}
        </span>
      </li>
    </ul>
  </div>
</div>
